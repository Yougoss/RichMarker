<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Richmarker by baidumap</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.2"></script>
    <script src="javascripts/RichMarker_min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/baidumap/RichMarker">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/baidumap/RichMarker/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/baidumap/RichMarker/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Richmarker</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/baidumap">baidumap</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <div style="width:700px;height:400px;border:1px solid gray;margin:10px 0 0 10px;" id="container">
        </div>
        <div>
            <textarea id="ta" style="width:700px;height:300px;border:1px solid gray;margin:10px 0 0 10px;"></textarea> <input type="button" value="clear" onclick="cr()" />
        </div>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
  <script type="text/javascript">

    var map = new BMap.Map("container");
    map.centerAndZoom(new BMap.Point(116.309965, 40.058333), 17);
    map.enableScrollWheelZoom();

    var htm = "<div style='background:#E7F0F5;color:#0082CB;border:1px solid #333;width:145px;'>"
                  +     "欢迎使用百度地图！"
                  +     "<img src='http://map.baidu.com/img/logo-map.gif' border='0' />"
                  + "</div>";
    var point = new BMap.Point(116.30816, 40.056863);
    var myRM= new BMapLib.RichMarker(htm, point,
                                    {"anchor" : new BMap.Size(-72, -84),
                                     "enableDragging" : true});

    map.addOverlay(myRM);

    var ta = document.getElementById("ta");

    function setTA(str) {
      ta.value += str;
    }

    function cr() {
      ta.value = "";
    }

    myRM.addEventListener("onmousedown", function(e) {
      setTA("MouseDown : " + e.point.lng + " , " + e.point.lat + " ; " + e.pixel.x + " , " + e.pixel.y + " | ");
    });
    myRM.addEventListener("onclick", function(e) {
      setTA("Click | ");
    });
    myRM.addEventListener("onmouseup", function(e) {
      setTA("MouseUp : " + e.point.lng + " , " + e.point.lat + " ; " + e.pixel.x + " , " + e.pixel.y + " | ");
    });
    myRM.addEventListener("onmouseout", function(e) {
      setTA("MouseOut : " + e.point.lng + " , " + e.point.lat + " ; " + e.pixel.x + " , " + e.pixel.y + " | ");
    });
    myRM.addEventListener("onmouseover", function(e) {
      setTA("MouseOver : " + e.point.lng + " , " + e.point.lat + " ; " + e.pixel.x + " , " + e.pixel.y + " | ");
    });
    myRM.addEventListener("ondragstart", function(e) {
      setTA("DragStart | ");
    });
    myRM.addEventListener("ondragging", function(e) {
      setTA("Dragging : " + e.point.lng + " , " + e.point.lat + " ; " + e.pixel.x + " , " + e.pixel.y + " | ");
    });
    myRM.addEventListener("ondragend", function(e) {
      setTA("DragEnd : " + e.point.lng + " , " + e.point.lat + " ; " + e.pixel.x + " , " + e.pixel.y + " | ");
    });
    myRM.addEventListener("onremove", function(e) {
      setTA("remove |");
    });

    myRM.addEventListener("ondblclick", function(e) {
      setTA("RM dblclick |");
    });

    myRM.addEventListener("onclick", function(e) {
      setTA("RM click |");
    });

  </script>

</html>